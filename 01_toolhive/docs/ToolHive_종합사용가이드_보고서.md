# ToolHive ì¢…í•© ì‚¬ìš© ê°€ì´ë“œ ë³´ê³ ì„œ

## ëª©ì°¨
1. [ToolHive ê°œìš”](#1-toolhive-ê°œìš”)
2. [ToolHive ì•„í‚¤í…ì²˜ ë° ì£¼ìš” ê¸°ëŠ¥](#2-toolhive-ì•„í‚¤í…ì²˜-ë°-ì£¼ìš”-ê¸°ëŠ¥)
3. [ToolHive ì„¤ì¹˜ ë° í™˜ê²½ êµ¬ì„±](#3-toolhive-ì„¤ì¹˜-ë°-í™˜ê²½-êµ¬ì„±)
4. [ToolHive ì‚¬ìš©ë²•](#4-toolhive-ì‚¬ìš©ë²•)
5. [ë‚˜ë§Œì˜ MCP ì„œë²„ êµ¬ì¶• ë°©ë²•](#5-ë‚˜ë§Œì˜-mcp-ì„œë²„-êµ¬ì¶•-ë°©ë²•)
6. [ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ](#6-ì‹¤ì œ-ì‚¬ìš©-ì˜ˆì‹œ)
7. [ê³ ê¸‰ ê¸°ëŠ¥ ë° ì„¤ì •](#7-ê³ ê¸‰-ê¸°ëŠ¥-ë°-ì„¤ì •)
8. [ë¬¸ì œ í•´ê²° ë° íŒ](#8-ë¬¸ì œ-í•´ê²°-ë°-íŒ)
9. [ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­](#9-ê²°ë¡ -ë°-ê¶Œì¥ì‚¬í•­)

---

## 1. ToolHive ê°œìš”

### 1.1 ToolHiveë€?

**ToolHive**ëŠ” [Model Context Protocol (MCP)](https://docs.stacklok.com/toolhive/concepts/mcp-primer) ì„œë²„ì˜ ë°°í¬ì™€ ê´€ë¦¬ë¥¼ ë‹¨ìˆœí™”í•˜ëŠ” í”Œë«í¼ì…ë‹ˆë‹¤. MCP ì„œë²„ë¥¼ ì•ˆì „í•˜ê³  ì¼ê´€ì„± ìˆê²Œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ìµœì†Œí•œì˜ ê¶Œí•œìœ¼ë¡œ ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ ë™ì‘í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.

### 1.2 í•µì‹¬ ê°€ì¹˜

- **ë³´ì•ˆì„±**: ëª¨ë“  MCP ì„œë²„ê°€ ê²©ë¦¬ëœ ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ ì‹¤í–‰
- **í¸ì˜ì„±**: ì›í´ë¦­ ë˜ëŠ” ë‹¨ì¼ ëª…ë ¹ì–´ë¡œ MCP ì„œë²„ ë°°í¬
- **í™•ì¥ì„±**: ë¡œì»¬ ê°œë°œë¶€í„° ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ê¹Œì§€ ì§€ì›
- **í˜¸í™˜ì„±**: GitHub Copilot, Cursor ë“± ì£¼ìš” AI í´ë¼ì´ì–¸íŠ¸ì™€ ìë™ ì—°ë™

### 1.3 ì§€ì› ëª¨ë“œ

ToolHiveëŠ” ë‹¤ì–‘í•œ ì‚¬ìš© í™˜ê²½ì— ë§ì¶° ì„¸ ê°€ì§€ ëª¨ë“œë¡œ ì œê³µë©ë‹ˆë‹¤:

#### **ToolHive UI (Desktop App)**
- **ëŒ€ìƒ**: ê°œì¸ ê°œë°œì
- **íŠ¹ì§•**: ì§ê´€ì ì¸ GUI ì¸í„°í˜ì´ìŠ¤
- **ìš©ë„**: ë¡œì»¬ í™˜ê²½ì—ì„œ MCP ì„œë²„ ê´€ë¦¬

#### **ToolHive CLI**
- **ëŒ€ìƒ**: ê°œë°œì, DevOps ì—”ì§€ë‹ˆì–´
- **íŠ¹ì§•**: ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤
- **ìš©ë„**: ê°œë°œ í™˜ê²½, ìë™í™” ìŠ¤í¬ë¦½íŠ¸

#### **ToolHive Kubernetes Operator**
- **ëŒ€ìƒ**: íŒ€, ì—”í„°í”„ë¼ì´ì¦ˆ
- **íŠ¹ì§•**: ì¿ ë²„ë„¤í‹°ìŠ¤ ë„¤ì´í‹°ë¸Œ
- **ìš©ë„**: í”„ë¡œë•ì…˜ í™˜ê²½, ë‹¤ì¤‘ ì‚¬ìš©ì ì§€ì›

---

## 2. ToolHive ì•„í‚¤í…ì²˜ ë° ì£¼ìš” ê¸°ëŠ¥

### 2.1 ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI Client     â”‚    â”‚  ToolHive Proxy â”‚    â”‚  MCP Server     â”‚
â”‚ (Copilot/Cursor)â”‚â—„â”€â”€â–ºâ”‚     (HTTP)      â”‚â—„â”€â”€â–ºâ”‚  (Container)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” êµ¬ì„± ìš”ì†Œ:**
- **HTTP Proxy**: AI í´ë¼ì´ì–¸íŠ¸ì™€ MCP ì„œë²„ ê°„ í†µì‹  ì¤‘ê³„
- **Container Runtime**: Docker/Podmanì„ í†µí•œ MCP ì„œë²„ ì‹¤í–‰
- **Registry**: ê²€ì¦ëœ MCP ì„œë²„ ëª©ë¡ ê´€ë¦¬

### 2.2 í•µì‹¬ ê¸°ëŠ¥

#### **ğŸš€ ì¦‰ì‹œ ë°°í¬**
```bash
# ë‹¨ í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë¡œ MCP ì„œë²„ ì‹¤í–‰
thv run fetch
```

#### **ğŸ”’ ê¸°ë³¸ ë³´ì•ˆ**
- ì»¨í…Œì´ë„ˆ ê²©ë¦¬ í™˜ê²½
- ìµœì†Œ ê¶Œí•œ ì›ì¹™
- ì•”í˜¸í™”ëœ ì‹œí¬ë¦¿ ê´€ë¦¬

#### **ğŸ”— ìë™ ì—°ë™**
- GitHub Copilot, Cursor ìë™ ì„¤ì •
- ìˆ˜ë™ ì„¤ì • ì—†ì´ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥

#### **ğŸ›  í”„ë¡œí† ì½œ ì§€ì›**
- `stdio` (í‘œì¤€ ì…ì¶œë ¥)
- `SSE` (Server-Sent Events)
- `streamable-http` (ìŠ¤íŠ¸ë¦¬ë° HTTP)

---

## 3. ToolHive ì„¤ì¹˜ ë° í™˜ê²½ êµ¬ì„±

### 3.1 ì‚¬ì „ ìš”êµ¬ì‚¬í•­

#### **ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­**
- **Docker** ë˜ëŠ” **Podman** ì„¤ì¹˜ ë° ì‹¤í–‰ ì¤‘
- **ì§€ì› OS**: macOS, Windows, Linux
- **ì§€ì› AI í´ë¼ì´ì–¸íŠ¸**: VS Code (GitHub Copilot), Cursor, Claude Code

#### **í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜**

**Docker ì„¤ì¹˜:**
```bash
# macOS (Homebrew)
brew install --cask docker

# Windows (Chocolatey)
choco install docker-desktop

# Linux (Ubuntu)
sudo apt-get update
sudo apt-get install docker.io
```

### 3.2 ToolHive UI ì„¤ì¹˜

#### **macOS**
```bash
# Apple Silicon Mac
curl -LO https://github.com/stacklok/toolhive-studio/releases/latest/download/ToolHive-arm64.dmg

# Intel Mac
curl -LO https://github.com/stacklok/toolhive-studio/releases/latest/download/ToolHive-x64.dmg
```

#### **Windows**
```bash
# ì„¤ì¹˜ í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ ë° ì‹¤í–‰
curl -LO https://github.com/stacklok/toolhive-studio/releases/latest/download/ToolHive.Setup.exe
```

#### **Linux**
```bash
# ìµœì‹  ë¦´ë¦¬ìŠ¤ í˜ì´ì§€ì—ì„œ RPM ë˜ëŠ” DEB íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ
# https://github.com/stacklok/toolhive-studio/releases/latest
```

### 3.3 ToolHive CLI ì„¤ì¹˜

#### **Homebrew (macOS/Linux)**
```bash
brew tap stacklok/tap
brew install thv
```

#### **WinGet (Windows)**
```bash
winget install stacklok.toolhive
```

#### **ìˆ˜ë™ ì„¤ì¹˜**
```bash
# ë°”ì´ë„ˆë¦¬ ë‹¤ìš´ë¡œë“œ í›„ PATHì— ì¶”ê°€
# https://github.com/stacklok/toolhive/releases/latest
```

#### **ì„¤ì¹˜ í™•ì¸**
```bash
thv version
# ì¶œë ¥ ì˜ˆì‹œ:
# ToolHive v0.1.1
# Commit: 18956ca1710e11c9952d13a8dde039d5d1d147d6
# Built: 2025-06-30 13:59:34 UTC
```

---

## 4. ToolHive ì‚¬ìš©ë²•

### 4.1 ToolHive UI ì‚¬ìš©ë²•

#### **4.1.1 ì²« ë²ˆì§¸ ì‹¤í–‰**

1. **ì•± ì‹¤í–‰**: ToolHive ë°ìŠ¤í¬í†± ì•± ì‹œì‘
2. **ë ˆì§€ìŠ¤íŠ¸ë¦¬ íƒìƒ‰**: "Browse Registry" í´ë¦­
3. **ì„œë²„ ì„ íƒ**: ì›í•˜ëŠ” MCP ì„œë²„ ì„ íƒ (ì˜ˆ: fetch)
4. **ì„¤ì¹˜**: "Install server" ë²„íŠ¼ í´ë¦­

#### **4.1.2 í´ë¼ì´ì–¸íŠ¸ ì—°ê²°**

1. **Clients í˜ì´ì§€**: ìƒë‹¨ ë©”ë‰´ì—ì„œ "Clients" ì„ íƒ
2. **í´ë¼ì´ì–¸íŠ¸ í™œì„±í™”**: ì‚¬ìš©í•  AI í´ë¼ì´ì–¸íŠ¸ í† ê¸€ ìŠ¤ìœ„ì¹˜ ON
3. **ìë™ êµ¬ì„±**: ToolHiveê°€ ìë™ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

#### **4.1.3 ì„œë²„ ê´€ë¦¬**

- **ì„œë²„ ëª©ë¡**: "MCP Servers" í˜ì´ì§€ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì„œë²„ í™•ì¸
- **ì„œë²„ ì¤‘ì§€**: ì„œë²„ ì¹´ë“œì—ì„œ ì •ì§€ ë²„íŠ¼ í´ë¦­
- **ë¡œê·¸ í™•ì¸**: ì„œë²„ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì‹¤í–‰ ë¡œê·¸ ì¡°íšŒ

### 4.2 ToolHive CLI ì‚¬ìš©ë²•

#### **4.2.1 ê¸°ë³¸ ëª…ë ¹ì–´**

```bash
# ë²„ì „ í™•ì¸
thv version

# ë„ì›€ë§
thv help

# ë ˆì§€ìŠ¤íŠ¸ë¦¬ ëª©ë¡ ì¡°íšŒ
thv registry list

# íŠ¹ì • ì„œë²„ ì •ë³´ ì¡°íšŒ
thv registry info fetch

# MCP ì„œë²„ ì‹¤í–‰
thv run fetch

# ì‹¤í–‰ ì¤‘ì¸ ì„œë²„ ëª©ë¡
thv list

# ì„œë²„ ì¤‘ì§€
thv stop fetch

# ì„œë²„ ì™„ì „ ì‚­ì œ
thv rm fetch
```

#### **4.2.2 í´ë¼ì´ì–¸íŠ¸ ì„¤ì •**

```bash
# í´ë¼ì´ì–¸íŠ¸ ìë™ ê°ì§€ ë° ì„¤ì •
thv client setup

# í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ í™•ì¸
thv client status

# ì¶œë ¥ ì˜ˆì‹œ:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ CLIENT TYPE    â”‚ INSTALLED â”‚ REGISTERED â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ vscode         â”‚ âœ… Yes    â”‚ âœ… Yes     â”‚
# â”‚ cursor         â”‚ âœ… Yes    â”‚ âŒ No      â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **4.2.3 ê³ ê¸‰ ì˜µì…˜**

```bash
# ì‚¬ìš©ì ì •ì˜ ì´ë¯¸ì§€ë¡œ ì‹¤í–‰
thv run --image custom/mcp-server:latest myserver

# í™˜ê²½ ë³€ìˆ˜ ì „ë‹¬
thv run --env API_KEY=secret fetch

# í¬íŠ¸ ì§€ì •
thv run --port 9000 fetch

# ê¶Œí•œ í”„ë¡œí•„ ì§€ì •
thv run --permission-profile network fetch
```

### 4.3 Kubernetes Operator ì‚¬ìš©ë²•

#### **4.3.1 Operator ì„¤ì¹˜**

```bash
# Helmìœ¼ë¡œ ì„¤ì¹˜
helm repo add stacklok https://stacklok.github.io/toolhive
helm install toolhive-operator stacklok/toolhive-operator \
  --namespace toolhive-system \
  --create-namespace
```

#### **4.3.2 MCPServer ë¦¬ì†ŒìŠ¤ ìƒì„±**

```yaml
# mcpserver-example.yaml
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: MCPServer
metadata:
  name: fetch
  namespace: toolhive-system
spec:
  image: ghcr.io/stackloklabs/gofetch/server
  transport: streamable-http
  port: 8080
  targetPort: 8080
  permissionProfile:
    type: builtin
    name: network
  resources:
    limits:
      cpu: "100m"
      memory: "128Mi"
    requests:
      cpu: "50m"
      memory: "64Mi"
```

```bash
# ë¦¬ì†ŒìŠ¤ ì ìš©
kubectl apply -f mcpserver-example.yaml

# ìƒíƒœ í™•ì¸
kubectl get mcpserver -n toolhive-system

# ë¡œê·¸ í™•ì¸
kubectl logs -l app=fetch -n toolhive-system
```

---

## 5. ë‚˜ë§Œì˜ MCP ì„œë²„ êµ¬ì¶• ë°©ë²•

### 5.1 MCP ì„œë²„ ê°œë°œ ê¸°ì´ˆ

#### **5.1.1 MCP í”„ë¡œí† ì½œ ì´í•´**

MCP(Model Context Protocol)ëŠ” AI ì—ì´ì „íŠ¸ì™€ ë„êµ¬ ê°„ì˜ í‘œì¤€í™”ëœ í†µì‹  í”„ë¡œí† ì½œì…ë‹ˆë‹¤.

**ì£¼ìš” êµ¬ì„± ìš”ì†Œ:**
- **Tools**: AIê°€ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜
- **Resources**: AIê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°ì´í„°
- **Prompts**: AIì—ê²Œ ì œê³µí•  ìˆ˜ ìˆëŠ” í…œí”Œë¦¿

#### **5.1.2 ê¸°ë³¸ MCP ì„œë²„ êµ¬ì¡°**

```python
# Python MCP ì„œë²„ ì˜ˆì‹œ
from mcp.server import Server
from mcp.types import Tool, TextContent

app = Server("my-custom-server")

@app.list_tools()
async def list_tools():
    return [
        Tool(
            name="get_weather",
            description="Get current weather for a location",
            inputSchema={
                "type": "object",
                "properties": {
                    "location": {"type": "string"}
                },
                "required": ["location"]
            }
        )
    ]

@app.call_tool()
async def call_tool(name: str, arguments: dict):
    if name == "get_weather":
        location = arguments["location"]
        # ì‹¤ì œ ë‚ ì”¨ API í˜¸ì¶œ ë¡œì§
        weather_data = get_weather_data(location)
        return TextContent(
            type="text",
            text=f"Weather in {location}: {weather_data}"
        )

if __name__ == "__main__":
    app.run()
```

### 5.2 ì»¨í…Œì´ë„ˆí™”

#### **5.2.1 Dockerfile ì‘ì„±**

```dockerfile
FROM python:3.11-slim

WORKDIR /app

# ì˜ì¡´ì„± ì„¤ì¹˜
COPY requirements.txt .
RUN pip install -r requirements.txt

# ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬
COPY . .

# ë¹„ë£¨íŠ¸ ì‚¬ìš©ì ìƒì„±
RUN adduser --disabled-password --gecos '' appuser
USER appuser

# MCP ì„œë²„ ì‹¤í–‰
EXPOSE 8080
CMD ["python", "server.py"]
```

#### **5.2.2 ì´ë¯¸ì§€ ë¹Œë“œ ë° í‘¸ì‹œ**

```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t myregistry/my-mcp-server:v1.0.0 .

# ì´ë¯¸ì§€ í‘¸ì‹œ
docker push myregistry/my-mcp-server:v1.0.0
```

### 5.3 ToolHiveì™€ í†µí•©

#### **5.3.1 ë¡œì»¬ í…ŒìŠ¤íŠ¸**

```bash
# ë¡œì»¬ ì´ë¯¸ì§€ë¡œ í…ŒìŠ¤íŠ¸
thv run --image myregistry/my-mcp-server:v1.0.0 my-server

# ë¡œê·¸ í™•ì¸
thv logs my-server

# í…ŒìŠ¤íŠ¸
thv list
```

#### **5.3.2 Kubernetes ë°°í¬**

```yaml
# my-mcpserver.yaml
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: MCPServer
metadata:
  name: my-server
  namespace: toolhive-system
spec:
  image: myregistry/my-mcp-server:v1.0.0
  transport: streamable-http
  port: 8080
  targetPort: 8080
  env:
    - name: API_KEY
      valueFrom:
        secretKeyRef:
          name: my-server-secrets
          key: api-key
  permissionProfile:
    type: builtin
    name: network
```

---

## 6. ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

### 6.1 ì›¹ ì½˜í…ì¸  í¬ë¡¤ë§ ì„œë²„ (Fetch)

#### **6.1.1 ì„œë²„ ì‹¤í–‰**

```bash
# CLIë¡œ Fetch ì„œë²„ ì‹¤í–‰
thv run fetch

# ì‹¤í–‰ í™•ì¸
thv list
# ì¶œë ¥:
# NAME   PACKAGE                                  STATUS   URL                              PORT   TOOL TYPE
# fetch  ghcr.io/stackloklabs/gofetch/server     running  http://127.0.0.1:15266/sse#fetch 15266  mcp
```

#### **6.1.2 AI í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©**

**VS Code (GitHub Copilot)ì—ì„œ:**
```
ì‚¬ìš©ì: "https://toolhive.dev ì‚¬ì´íŠ¸ì˜ ë‚´ìš©ì„ ê°€ì ¸ì™€ì„œ ìš”ì•½í•´ì¤˜"

AI ì‘ë‹µ: fetch ë„êµ¬ë¥¼ ì‚¬ìš©í•´ì„œ ì›¹ì‚¬ì´íŠ¸ ë‚´ìš©ì„ ê°€ì ¸ì˜¤ê² ìŠµë‹ˆë‹¤.

[fetch ë„êµ¬ ì‹¤í–‰]
- URL: https://toolhive.dev
- ì‘ë‹µ: ì›¹ì‚¬ì´íŠ¸ HTML ë‚´ìš©

ìš”ì•½: ToolHiveëŠ” MCP ì„œë²„ ë°°í¬ë¥¼ ê°„ì†Œí™”í•˜ëŠ” í”Œë«í¼ìœ¼ë¡œ...
```

### 6.2 GitHub í†µí•© ì„œë²„

#### **6.2.1 ì‹œí¬ë¦¿ ì„¤ì •**

```bash
# GitHub í† í° ì„¤ì •
thv secret set GITHUB_TOKEN ghp_your_token_here

# GitHub ì„œë²„ ì‹¤í–‰ (í† í° í•„ìš”)
thv run github
```

#### **6.2.2 ì‚¬ìš© ì˜ˆì‹œ**

```
ì‚¬ìš©ì: "ë‚´ GitHub ë¦¬í¬ì§€í† ë¦¬ ëª©ë¡ì„ ë³´ì—¬ì¤˜"

AI: GitHub APIë¥¼ í†µí•´ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì¡°íšŒí•˜ê² ìŠµë‹ˆë‹¤.

ê²°ê³¼:
1. user/project1 - ì£¼ìš” í”„ë¡œì íŠ¸
2. user/project2 - ì‹¤í—˜ í”„ë¡œì íŠ¸
3. user/toolhive-examples - ToolHive ì˜ˆì‹œ
```

### 6.3 ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ ì„œë²„

#### **6.3.1 ì»¤ìŠ¤í…€ ì„œë²„ êµ¬í˜„**

```python
# database_mcp_server.py
import asyncio
import sqlite3
from mcp.server import Server
from mcp.types import Tool, TextContent

app = Server("database-query")

@app.list_tools()
async def list_tools():
    return [
        Tool(
            name="query_database",
            description="Execute SQL query on database",
            inputSchema={
                "type": "object",
                "properties": {
                    "query": {"type": "string", "description": "SQL query"},
                    "params": {"type": "array", "items": {"type": "string"}}
                },
                "required": ["query"]
            }
        )
    ]

@app.call_tool()
async def call_tool(name: str, arguments: dict):
    if name == "query_database":
        conn = sqlite3.connect('data.db')
        cursor = conn.cursor()
        
        query = arguments["query"]
        params = arguments.get("params", [])
        
        try:
            cursor.execute(query, params)
            results = cursor.fetchall()
            return TextContent(
                type="text",
                text=f"Query results: {results}"
            )
        finally:
            conn.close()

if __name__ == "__main__":
    app.run_sse(port=8080)
```

#### **6.3.2 ë°°í¬ ë° ì‚¬ìš©**

```bash
# ì»¨í…Œì´ë„ˆí™”
docker build -t my-db-server .

# ToolHiveë¡œ ì‹¤í–‰
thv run --image my-db-server database-query

# AIì—ì„œ ì‚¬ìš©
# "ì‚¬ìš©ì í…Œì´ë¸”ì—ì„œ ìµœê·¼ ê°€ì…í•œ 10ëª…ì„ ì¡°íšŒí•´ì¤˜"
```

---

## 7. ê³ ê¸‰ ê¸°ëŠ¥ ë° ì„¤ì •

### 7.1 ê¶Œí•œ í”„ë¡œí•„ (Permission Profiles)

#### **7.1.1 ë‚´ì¥ í”„ë¡œí•„**

```bash
# ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ í—ˆìš©
thv run --permission-profile network fetch

# íŒŒì¼ì‹œìŠ¤í…œ ì ‘ê·¼ í—ˆìš©  
thv run --permission-profile filesystem file-processor

# ì œí•œëœ ê¶Œí•œ (ê¸°ë³¸ê°’)
thv run --permission-profile restricted minimal-server
```

#### **7.1.2 ì»¤ìŠ¤í…€ ê¶Œí•œ í”„ë¡œí•„**

```json
{
  "version": "1",
  "name": "custom-profile",
  "capabilities": {
    "network": {
      "allowOutbound": true,
      "allowedHosts": ["api.example.com", "*.trusted-domain.com"]
    },
    "filesystem": {
      "allowRead": ["/tmp", "/data"],
      "allowWrite": ["/tmp"]
    },
    "environment": {
      "allowedVars": ["API_KEY", "CONFIG_PATH"]
    }
  }
}
```

### 7.2 ì‹œí¬ë¦¿ ê´€ë¦¬

#### **7.2.1 ë‚´ì¥ ì‹œí¬ë¦¿ ì €ì¥ì†Œ**

```bash
# ì‹œí¬ë¦¿ ì„¤ì •
thv secret set API_KEY your_secret_value

# ì‹œí¬ë¦¿ ëª©ë¡
thv secret list

# ì‹œí¬ë¦¿ ì‚­ì œ
thv secret delete API_KEY

# ì„œë²„ ì‹¤í–‰ ì‹œ ì‹œí¬ë¦¿ ì‚¬ìš©
thv run --env API_KEY=@secret:API_KEY my-server
```

#### **7.2.2 1Password í†µí•©**

```bash
# 1Password CLI ì„¤ì¹˜ ë° ì„¤ì • í›„
thv config set secrets-provider 1password

# 1Passwordì—ì„œ ì‹œí¬ë¦¿ ì°¸ì¡°
thv run --env API_KEY=@1password:vault/item/field my-server
```

### 7.3 ë„¤íŠ¸ì›Œí¬ ì„¤ì •

#### **7.3.1 í¬íŠ¸ ë§¤í•‘**

```bash
# íŠ¹ì • í¬íŠ¸ë¡œ ì‹¤í–‰
thv run --port 9000 --target-port 8080 my-server

# ì—¬ëŸ¬ í¬íŠ¸ ë…¸ì¶œ
thv run --port 9000,9001 --target-port 8080,8081 multi-port-server
```

#### **7.3.2 ë„¤íŠ¸ì›Œí¬ ì •ì±…**

```yaml
# Kubernetesì—ì„œ ë„¤íŠ¸ì›Œí¬ ì •ì±… ì ìš©
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: MCPServer
metadata:
  name: restricted-server
spec:
  image: my-server:latest
  networkPolicy:
    egress:
      - to:
        - namespaceSelector:
            matchLabels:
              name: allowed-namespace
        ports:
        - protocol: TCP
          port: 443
```

### 7.4 ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

#### **7.4.1 ë¡œê·¸ ê´€ë¦¬**

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ ìŠ¤íŠ¸ë¦¼
thv logs --follow my-server

# íŠ¹ì • ê¸°ê°„ ë¡œê·¸
thv logs --since 1h my-server

# ë¡œê·¸ ë ˆë²¨ ì„¤ì •
thv run --log-level debug my-server
```

#### **7.4.2 ë©”íŠ¸ë¦­ ìˆ˜ì§‘**

```yaml
# Prometheus ë©”íŠ¸ë¦­ í™œì„±í™”
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: MCPServer
metadata:
  name: monitored-server
spec:
  image: my-server:latest
  monitoring:
    enabled: true
    path: /metrics
    port: 9090
```

---

## 8. ë¬¸ì œ í•´ê²° ë° íŒ

### 8.1 ì¼ë°˜ì ì¸ ë¬¸ì œ

#### **8.1.1 Docker/Podman ì—°ê²° ë¬¸ì œ**

```bash
# Docker ë°ëª¬ ìƒíƒœ í™•ì¸
docker info

# ToolHive ìƒíƒœ ì§„ë‹¨
thv doctor

# ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì¬ì‹œì‘
sudo systemctl restart docker
```

#### **8.1.2 í¬íŠ¸ ì¶©ëŒ**

```bash
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
netstat -tulpn | grep :8080

# ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
thv run --port 8081 my-server

# ìë™ í¬íŠ¸ í• ë‹¹
thv run --port 0 my-server  # ì‚¬ìš© ê°€ëŠ¥í•œ í¬íŠ¸ ìë™ ì„ íƒ
```

#### **8.1.3 ê¶Œí•œ ë¬¸ì œ**

```bash
# í˜„ì¬ ì‚¬ìš©ìë¥¼ docker ê·¸ë£¹ì— ì¶”ê°€
sudo usermod -aG docker $USER
newgrp docker

# ê¶Œí•œ í™•ì¸
docker run hello-world
```

### 8.2 ì„±ëŠ¥ ìµœì í™”

#### **8.2.1 ë¦¬ì†ŒìŠ¤ ì œí•œ**

```bash
# CPU ë° ë©”ëª¨ë¦¬ ì œí•œ
thv run --cpu-limit 0.5 --memory-limit 512MB my-server

# Kubernetesì—ì„œ ë¦¬ì†ŒìŠ¤ ì„¤ì •
kubectl patch mcpserver my-server -p '{
  "spec": {
    "resources": {
      "limits": {"cpu": "500m", "memory": "512Mi"},
      "requests": {"cpu": "100m", "memory": "128Mi"}
    }
  }
}'
```

#### **8.2.2 ì´ë¯¸ì§€ ìµœì í™”**

```dockerfile
# ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œë¡œ ì´ë¯¸ì§€ í¬ê¸° ê°ì†Œ
FROM python:3.11-slim as builder
WORKDIR /app
COPY requirements.txt .
RUN pip wheel --no-cache-dir --no-deps --wheel-dir /app/wheels -r requirements.txt

FROM python:3.11-slim
WORKDIR /app
COPY --from=builder /app/wheels /wheels
RUN pip install --no-cache /wheels/*
COPY . .
USER appuser
CMD ["python", "server.py"]
```

### 8.3 ë³´ì•ˆ ê°•í™”

#### **8.3.1 ì´ë¯¸ì§€ ìŠ¤ìº”**

```bash
# ì´ë¯¸ì§€ ì·¨ì•½ì  ìŠ¤ìº”
docker scan my-server:latest

# ToolHive ì´ë¯¸ì§€ ê²€ì¦
thv verify my-server:latest
```

#### **8.3.2 ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬**

```bash
# ì „ìš© ë„¤íŠ¸ì›Œí¬ ìƒì„±
docker network create toolhive-isolated

# ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì‹¤í–‰
thv run --network toolhive-isolated my-server
```

---

## 9. ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­

### 9.1 ToolHiveì˜ ì¥ì 

1. **ë³´ì•ˆ ìš°ì„ **: ê¸°ë³¸ì ìœ¼ë¡œ ì•ˆì „í•œ ì»¨í…Œì´ë„ˆ í™˜ê²½
2. **ì‚¬ìš© í¸ì˜ì„±**: ì›í´ë¦­/ë‹¨ì¼ ëª…ë ¹ì–´ ë°°í¬
3. **í™•ì¥ì„±**: ê°œë°œë¶€í„° í”„ë¡œë•ì…˜ê¹Œì§€ ì¼ê´€ëœ ê²½í—˜
4. **ìƒíƒœê³„**: ê²€ì¦ëœ MCP ì„œë²„ ë ˆì§€ìŠ¤íŠ¸ë¦¬
5. **í‘œì¤€í™”**: MCP í”„ë¡œí† ì½œ ì¤€ìˆ˜ë¡œ í˜¸í™˜ì„± ë³´ì¥

### 9.2 ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë³„ ê¶Œì¥ì‚¬í•­

#### **ê°œì¸ ê°œë°œì**
- **ToolHive UI** ì‚¬ìš© ê¶Œì¥
- ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘
- ë‹¤ì–‘í•œ MCP ì„œë²„ ì‹¤í—˜ ê°€ëŠ¥

#### **íŒ€ ê°œë°œ**
- **ToolHive CLI** + ìŠ¤í¬ë¦½íŠ¸ ìë™í™”
- CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©
- ê°œë°œ/ìŠ¤í…Œì´ì§• í™˜ê²½ ê´€ë¦¬

#### **ì—”í„°í”„ë¼ì´ì¦ˆ**
- **Kubernetes Operator** ì‚¬ìš©
- ì¤‘ì•™ ì§‘ì¤‘ì‹ ê´€ë¦¬
- RBAC, ë„¤íŠ¸ì›Œí¬ ì •ì±… ì ìš©
- ëª¨ë‹ˆí„°ë§ ë° ê°ì‚¬ ë¡œê·¸

### 9.3 ê°œë°œ ëª¨ë²” ì‚¬ë¡€

1. **ì‹œì‘ì€ ê°„ë‹¨í•˜ê²Œ**: ê¸°ì¡´ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ë¶€í„° ì‹œì‘
2. **ì ì§„ì  í™•ì¥**: ê¸°ë³¸ ê¸°ëŠ¥ í™•ì¸ í›„ ê³ ê¸‰ ê¸°ëŠ¥ ì¶”ê°€
3. **ë³´ì•ˆ ê³ ë ¤**: ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì ìš©
4. **ë¬¸ì„œí™”**: MCP ì„œë²„ ê¸°ëŠ¥ê³¼ ì‚¬ìš©ë²• ëª…í™•íˆ ê¸°ìˆ 
5. **í…ŒìŠ¤íŠ¸**: ë‹¤ì–‘í•œ AI í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë™ì‘ í™•ì¸

### 9.4 ë¯¸ë˜ ë°œì „ ë°©í–¥

ToolHiveëŠ” ì§€ì†ì ìœ¼ë¡œ ë°œì „í•˜ê³  ìˆìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì˜ì—­ì—ì„œ ê°œì„ ì´ ì˜ˆìƒë©ë‹ˆë‹¤:

- **ë” ë§ì€ AI í´ë¼ì´ì–¸íŠ¸ ì§€ì›**
- **ê³ ê¸‰ ë³´ì•ˆ ê¸°ëŠ¥** (Zero Trust, OIDC ë“±)
- **ì„±ëŠ¥ ìµœì í™”** ë„êµ¬
- **ê°œë°œì ë„êµ¬** ê°œì„ 
- **í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ** ê¸°ëŠ¥ ê°•í™”

---

## ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [ToolHive ê³µì‹ ë¬¸ì„œ](https://docs.stacklok.com/toolhive/)
- [GitHub ë¦¬í¬ì§€í† ë¦¬](https://github.com/stacklok/toolhive)
- [MCP í”„ë¡œí† ì½œ ê°€ì´ë“œ](https://docs.stacklok.com/toolhive/concepts/mcp-primer)

### ì»¤ë®¤ë‹ˆí‹°
- [Discord ì»¤ë®¤ë‹ˆí‹°](https://discord.gg/stacklok)
- [GitHub Discussions](https://github.com/stacklok/toolhive/discussions)
- [ì´ìŠˆ íŠ¸ë˜ì»¤](https://github.com/stacklok/toolhive/issues)

### ì˜ˆì‹œ ë° í…œí”Œë¦¿
- [ì˜ˆì‹œ ì½”ë“œ](https://github.com/stacklok/toolhive/tree/main/examples)
- [Kubernetes ë§¤ë‹ˆí˜ìŠ¤íŠ¸](https://github.com/stacklok/toolhive/tree/main/examples/operator/mcp-servers)

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2025ë…„ 1ì›” 27ì¼  
**ToolHive ë²„ì „**: v0.2.2  
**ì‘ì„±ì**: AI Assistant (Playwright MCPë¥¼ í™œìš©í•œ ìë™ ìˆ˜ì§‘)

ì´ ë³´ê³ ì„œëŠ” [https://docs.stacklok.com/toolhive](https://docs.stacklok.com/toolhive)ì™€ [https://github.com/stacklok/toolhive](https://github.com/stacklok/toolhive)ì—ì„œ ìˆ˜ì§‘í•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.